{% set name = "shap" %}
{% set version = "0.44.0" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://github.com/slundberg/{{ name }}/archive/v{{ version }}.tar.gz
  sha256: 93db720fbf5152e359eedc8373faca91807c043dbaad55c143fc2bec4e46d807

build:
  number: 0
  script: 
   - export SETUPTOOLS_SCM_PRETEND_VERSION_FOR_SHAP={{ PKG_VERSION }}  # [unix]
   - set SETUPTOOLS_SCM_PRETEND_VERSION_FOR_SHAP={{ PKG_VERSION }}  # [win]
   - {{ PYTHON }} -m pip install . --no-deps --ignore-installed --no-cache-dir -vvv

requirements:
  build:
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
    - make  # [unix]
    - python                                 # [build_platform != target_platform]
    - cross-python_{{ target_platform }}     # [build_platform != target_platform]
    - numpy                                  # [build_platform != target_platform]
  host:
    - python
    - pip
    - setuptools >=61.0
    - setuptools-scm >=8.0
    - packaging >=20.9
    - numpy
  run:
    - python
    - packaging >20.9
    - numpy
    - scipy
    - scikit-learn
    - pandas
    - tqdm >=4.27.0
    - slicer ==0.0.7
    - numba
    - cloudpickle

test:
  requires:
    - pip
    - pytest
    - pytest-mpl
    - matplotlib-base
    - ipython
  source_files:
    - tests
  commands:
    - pip check
    - pytest tests
  imports:
    - shap

about:
  home: https://github.com/slundberg/shap
  license: MIT
  license_family: MIT
  license_file: LICENSE
  summary: A unified approach to explain the output of any machine learning model.
  description: |
    SHAP (SHapley Additive exPlanations) is a unified approach to explain the output of any machine learning model. SHAP connects game theory with local explanations, uniting several previous methods and representing the only possible consistent and locally accurate additive feature attribution method based on expectations.
  doc_url: https://shap.readthedocs.io/en/latest/
  dev_url: https://github.com/slundberg/shap

extra:
  recipe-maintainers:
    - connortann
    - mrandrewandrade
    - primozgodec
    - slundberg
    - xhochy
